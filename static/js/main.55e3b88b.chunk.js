(this["webpackJsonp@solarna/swap-ui"]=this["webpackJsonp@solarna/swap-ui"]||[]).push([[0],{128:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return j}));var r=n(12),a=n(1),o=n.n(a),c=n(3),i=n(57),s=n(50),u=n(23),l=n(5);function d(e,t){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(o.a.mark((function e(t,n){var a,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v(n),e.next=3,t.getProgramAccounts(u.TOKEN_PROGRAM_ID,{commitment:t.commitment,filters:a});case 3:return i=e.sent,s=i.map((function(e){var t=e.pubkey,n=e.account,r=n.data,a=n.executable,o=n.owner,c=n.lamports;return{publicKey:new l.PublicKey(t),accountInfo:{data:r,executable:a,owner:new l.PublicKey(o),lamports:c}}})).map((function(e){return{publicKey:e.publicKey,account:f(e.accountInfo.data)}})),e.next=7,Promise.all(s.map(function(){var e=Object(c.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Token.getAssociatedTokenAddress(u.ASSOCIATED_TOKEN_PROGRAM_ID,u.TOKEN_PROGRAM_ID,t.account.mint,n);case 2:return r=e.sent,e.abrupt("return",[t,r]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.abrupt("return",e.sent.filter((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return n.publicKey.equals(a)})).map((function(e){return Object(r.a)(e,1)[0]})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=i.struct([i.blob(32,"mint"),i.blob(32,"owner"),i.nu64("amount"),i.blob(93)]);function f(e){var t=b.decode(e),n=t.mint,r=t.owner,a=t.amount;return{mint:new l.PublicKey(n),owner:new l.PublicKey(r),amount:new s.BN(a)}}function v(e){return[{memcmp:{offset:b.offsetOf("owner"),bytes:e.toBase58()}},{dataSize:b.span}]}function j(e,t){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Token.getAssociatedTokenAddress(u.ASSOCIATED_TOKEN_PROGRAM_ID,u.TOKEN_PROGRAM_ID,t,n);case 2:return r=e.sent,a=u.Token.createAssociatedTokenAccountInstruction(u.ASSOCIATED_TOKEN_PROGRAM_ID,u.TOKEN_PROGRAM_ID,t,r,n,n),e.abrupt("return",{tokenAddress:r,createTokenAddrIx:a});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},176:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(12),a=n(16),o=n(274),c=n(275),i=n(407),s=n(419),u=n(408),l=n(88),d=n(51),p=n(223),b=n(279),f=n(404),v=n(406),j=n(405),m=n(416),h=n(224),O=n(48),x=n(276),g=n(409),w=n(412),y=n(420),k=n(280),S=n(277),A=n(410),T=n(411),C=n(5),M=n(0),K=n(35),_=n(84),B=n(4),P=Object(o.a)((function(e){return{dialogContent:{padding:0},textField:{marginBottom:"8px"},tab:{minWidth:"134px"},tabSelected:{color:e.palette.primary.contrastText,fontWeight:700,backgroundColor:e.palette.primary.main,borderRadius:"10px"},tabIndicator:{opacity:0},chip:{gap:e.spacing(1)},selectTokenTitle:{paddingBottom:e.spacing(2)},tokenSelector:{paddingTop:e.spacing(1),paddingLeft:e.spacing(.5),display:"flex",width:"100%",cursor:"pointer"},closeIcon:{backgroundColor:e.palette.text.secondary,color:e.palette.getContrastText(e.palette.text.secondary),fontSize:e.spacing(1.5),borderRadius:"50%",padding:e.spacing(.3)},badge:{}}})),N=Object(M.forwardRef)((function(e,t){return Object(B.jsx)(c.a,Object(a.a)({ref:t},e))}));function E(e){var t=e.open,n=e.onClose,a=e.setMint,o=Object(M.useState)(0),c=Object(r.a)(o,2),O=c[0],x=c[1],g=Object(M.useState)(""),w=Object(r.a)(g,2),y=w[0],k=w[1],A=y.toLowerCase(),T=P(),C=Object(K.d)(),_=C.swappableTokens,E=C.swappableTokensSollet,R=C.swappableTokensWormhole,z=Object(K.e)(),F=z.tokenBase,W=z.addNewBase,D=z.tokenBaseMap,L=z.removeBase,U=!Object(i.a)("(max-width:450px)"),G=0===O?_:1===O?R:E,V=""===y?G:G.filter((function(e){return e.symbol.toLowerCase().startsWith(A)||e.name.toLowerCase().startsWith(A)||e.address.toLowerCase().startsWith(A)}));return Object(B.jsxs)(s.a,{open:t,onClose:n,scroll:"paper",TransitionComponent:N,PaperProps:{style:{borderRadius:"10px",maxWidth:"420px",maxHeight:"clamp(100px, 80vh, 1000px)"}},children:[Object(B.jsxs)(u.a,{style:{fontWeight:"bold"},children:[Object(B.jsxs)(l.a,{display:"flex",justifyContent:"space-between",alignItems:"center",className:T.selectTokenTitle,children:[Object(B.jsx)(d.a,{variant:"h6",children:"Select a token"}),Object(B.jsx)(p.a,{size:"small",onClick:n,children:Object(B.jsx)(S.a,{})})]}),Object(B.jsx)(b.a,{className:T.textField,autoFocus:!0,placeholder:"Search name",value:y,size:"small",fullWidth:!0,variant:"outlined",onChange:function(e){return k(e.target.value)}}),Object(B.jsx)(d.a,{variant:"caption",children:"Common bases"}),0!=(null===F||void 0===F?void 0:F.length)&&Object(B.jsx)(q,{commonTokenBases:F,removeBase:L,onClick:function(e){a(e),n()}})]}),Object(B.jsx)(f.a,{className:T.dialogContent,dividers:!0,children:Object(B.jsx)(v.a,{disablePadding:!0,children:V.map((function(e){return Object(B.jsx)(I,{tokenInfo:e,onClick:function(e){a(e),n()},addNewBase:function(e){W(e)},isCommonBase:!!D.get(e.address.toString()),removeBase:function(e){L(e)}},e.address)}))})}),U&&Object(B.jsx)(j.a,{children:Object(B.jsxs)(m.a,{value:O,onChange:function(e,t){return x(t)},classes:{indicator:T.tabIndicator},children:[Object(B.jsx)(h.a,{value:0,className:T.tab,classes:{selected:T.tabSelected},label:"Main"}),Object(B.jsx)(h.a,{value:1,className:T.tab,classes:{selected:T.tabSelected},label:"Wormhole"}),Object(B.jsx)(h.a,{value:2,className:T.tab,classes:{selected:T.tabSelected},label:"Sollet"})]})})]})}function I(e){var t,n=e.tokenInfo,r=e.onClick,a=e.addNewBase,o=e.removeBase,c=e.isCommonBase,i=P(),s=Object(O.a)(),u=new C.PublicKey(n.address),d=null===(t=Object(K.f)().ownedTokensDetailed.filter((function(e){return e.address===n.address})))||void 0===t?void 0:t[0];return Object(B.jsxs)(x.a,{button:!0,children:[Object(B.jsxs)("div",{onClick:function(){return r(u)},className:i.tokenSelector,children:[Object(B.jsx)(_.a,{mint:u,style:{width:s.spacing(4),height:s.spacing(4)}}),Object(B.jsx)(R,{tokenInfo:n})]}),+(null===d||void 0===d?void 0:d.balance)>0?Object(B.jsx)(l.a,{mr:1,textAlign:"end",children:Object(B.jsx)(g.a,{primary:null===d||void 0===d?void 0:d.balance,secondary:"$".concat(null===d||void 0===d?void 0:d.usd)})}):Object(B.jsx)(p.a,{size:"small",onClick:function(){return c?o(n):a(n)},children:c?Object(B.jsx)(A.a,{fontSize:"small"}):Object(B.jsx)(T.a,{fontSize:"small"})})]})}function R(e){var t=e.tokenInfo;return Object(B.jsxs)("div",{style:{marginLeft:"16px"},children:[Object(B.jsx)(d.a,{style:{fontWeight:"bold"},children:null===t||void 0===t?void 0:t.symbol}),Object(B.jsx)(d.a,{color:"textSecondary",style:{fontSize:"14px"},children:null===t||void 0===t?void 0:t.name})]})}function q(e){var t=e.commonTokenBases,n=e.onClick,a=e.removeBase,o=P(),c=Object(M.useState)(""),i=Object(r.a)(c,2),s=i[0],u=i[1];return Object(B.jsx)(l.a,{display:"flex",flexWrap:"wrap",className:o.chip,children:null===t||void 0===t?void 0:t.map((function(e){var t=new C.PublicKey(e.address);return Object(B.jsx)(l.a,{onMouseEnter:function(){u(null===e||void 0===e?void 0:e.symbol)},onMouseLeave:function(){u("")},children:Object(B.jsx)(w.a,{badgeContent:Object(B.jsx)(S.a,{className:o.closeIcon,onClick:function(){return a(e)}}),className:o.badge,invisible:s!==(null===e||void 0===e?void 0:e.symbol),children:Object(B.jsx)(y.a,{avatar:Object(B.jsx)(k.a,{alt:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.logoURI}),variant:"outlined",label:null===e||void 0===e?void 0:e.symbol,onClick:function(){return n(t)},style:{borderRadius:4}},e.address)})})}))})}},219:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n(1),a=n.n(r),o=n(3),c=n(5),i=255,s=224;function u(e,t,n,r){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(a.a.mark((function e(t,n,r,o){var c,u,l,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=0,u=0,!(o.length>i)){e.next=15;break}case 3:if(!(o.length-u>i)){e.next=15;break}return l=o.slice(u,u+i),u+=i,console.log("send",(2|c).toString(16),l.length.toString(16),l),e.next=9,t.send(s,n,r,2|c,l);case 9:if(2===e.sent.length){e.next=12;break}throw new Error("Received unexpected reply payload");case 12:c|=1,e.next=3;break;case 15:return d=o.slice(u),console.log("send",c.toString(16),d.length.toString(16),d),e.next=19,t.send(s,n,r,c,d);case 19:return p=e.sent,e.abrupt("return",p.slice(0,p.length-2));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=1<<31>>>0;function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(e|d)>>>0}function b(t,n){var r;r=void 0!==t?void 0!==n?4:3:2;var a=e.alloc(1+4*r),o=0;return o=a.writeUInt8(r,o),o=a.writeUInt32BE(p(44),o),o=a.writeUInt32BE(p(501),o),r>2&&(o=a.writeUInt32BE(p(t),o),4===r&&a.writeUInt32BE(p(n),o)),a}function f(e,t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function e(t,n){var r,o,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:b(),o=n.serializeMessage(),e.abrupt("return",j(t,o,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(a.a.mark((function t(n,r){var o,c,i,s=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=s.length>2&&void 0!==s[2]?s[2]:b(),(c=e.alloc(1)).writeUInt8(1,0),i=e.concat([c,o,r]),t.abrupt("return",u(n,6,1,i));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(e){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(a.a.mark((function e(t){var n,r,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:b(),e.next=3,u(t,5,0,n);case 3:return r=e.sent,e.abrupt("return",new c.PublicKey(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(13).Buffer)},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"n",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"j",(function(){return b})),n.d(t,"m",(function(){return f})),n.d(t,"l",(function(){return v})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return m}));var r=n(5),a=new r.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),o=new r.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),c=new r.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),i=new r.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),s=new r.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),u=new r.PublicKey("Ejmc1UB4EsES5oAaRN63SpoxMJidt3ZGBrqrZk49vjTZ"),l=new r.PublicKey("So11111111111111111111111111111111111111112"),d=new r.PublicKey("6a9wpsZpZGxGhFVSQBpcTNjNjytdbSA1iUw1A5KNDxPw"),p=new r.PublicKey("FVsXUnbhifqJ4LiXQEbpUtXVdB8T5ADLKqSs5t1oc54F"),b=new r.PublicKey("6nGMps9VfDjkKEwYjdSNqN1ToXkLae4VsN49fzBiDFBd"),f=new r.PublicKey("9w97GdWUYYaamGwdKMKZgGzPduZJkiFizq4rz5CPXRv2"),v=new r.PublicKey("4v6e6vNXAaEunrvbqkYnKwbaWfck8a2KVR4uRAVXxVwC"),j=new r.PublicKey("BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4"),m=new r.PublicKey("BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW")},220:function(e,t,n){"use strict";n.d(t,"b",(function(){return re})),n.d(t,"a",(function(){return ae}));var r=n(16),a=n(274),o=n(88),c=n(51),i=n(223),s=n(462),u=n(48),l=n(455),d=n(454),p=n(461),b=n(463),f=n(68),v=n.n(f),j=n(29),m=n(32),h=n(34),O=n(35),x=n(12),g=n(279),w=n(458),y=n(64),k=n(459),S=n(460),A=n(471),T=n(457),C=n(0),M=n(1),K=n.n(M),_=n(3),B=n(419),P=n(404),N=n(405),E=n(448),I=n(222),R=n(449),q=n(450),z=n(451),F=n(452),W=n(453),D=n(456),L=n(403),U=n(5),G=n(22),V=n(4),X=Object(a.a)((function(e){return{table:{},closeAccount:{color:e.palette.error.main}}}));function H(e){var t=e.open,n=e.onClose,r=Object(j.l)(),a=r.isUnsettledAmt,s=r.settleAll;return Object(V.jsxs)(B.a,{maxWidth:"md",scroll:"paper",open:t,onClose:n,PaperProps:{style:{borderRadius:"10px"}},children:[Object(V.jsxs)(o.a,{mx:4,my:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(V.jsx)(c.a,{children:"DEX Accounts"}),Object(V.jsx)(i.a,{onClick:n,size:"small",children:Object(V.jsx)(L.a,{})})]}),Object(V.jsx)(P.a,{dividers:!0,style:{paddingTop:0},children:Object(V.jsx)(Y,{})}),Object(V.jsx)(N.a,{children:Object(V.jsx)(y.a,{style:{marginRight:"1rem"},color:"primary",size:"small",variant:"contained",disabled:!a,onClick:s,children:"Settle All"})})]})}function Y(){var e=X(),t=Object(j.h)(),n=Object(C.useMemo)((function(){return Array.from(t.entries()).map((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];return[new U.PublicKey(n),r]}))}),[t]),r=n.length;return Object(V.jsx)(E.a,{component:I.a,elevation:0,children:Object(V.jsxs)(R.a,{className:e.table,"aria-label":"simple table",children:[Object(V.jsx)(q.a,{children:Object(V.jsxs)(z.a,{children:[Object(V.jsx)(F.a,{children:"Market"}),Object(V.jsx)(F.a,{align:"center",children:"Open Orders Account"}),Object(V.jsx)(F.a,{align:"center",children:"Base Used"}),Object(V.jsx)(F.a,{align:"center",children:"Base Free"}),Object(V.jsx)(F.a,{align:"center",children:"Quote Used"}),Object(V.jsx)(F.a,{align:"center",children:"Quote Free"}),Object(V.jsx)(F.a,{align:"center",children:"Settle"}),Object(V.jsx)(F.a,{align:"center",children:"Close"})]})}),Object(V.jsx)(W.a,{children:0===r?Object(V.jsx)(z.a,{children:Object(V.jsx)(F.a,{align:"center",colSpan:8,children:"No Open Orders Accounts"})}):n.map((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];return Object(V.jsx)(J,{market:n,openOrders:r},n.toString())}))})]})})}function J(e){var t,n,r=e.market,a=e.openOrders,o=X(),i=Object(C.useState)(a[0]),s=Object(x.a)(i,2),u=s[0],l=s[1];Object(C.useEffect)((function(){l(a[0])}),[a]);var p=Object(j.d)(),b=p.swapClient,f=p.closeOpenOrders,v=Object(j.f)(r),m=Object(O.g)(),w=Object(h.d)(null===v||void 0===v?void 0:v.baseMintAddress),k=Object(h.d)(null===v||void 0===v?void 0:v.quoteMintAddress),S=Object(h.e)(null===v||void 0===v?void 0:v.baseMintAddress),A=Object(h.e)(null===v||void 0===v?void 0:v.quoteMintAddress),T=v?null===(t=m.get(null===v||void 0===v?void 0:v.baseMintAddress.toString()))||void 0===t?void 0:t.symbol:"-",M=v?null===(n=m.get(null===v||void 0===v?void 0:v.quoteMintAddress.toString()))||void 0===n?void 0:n.symbol:"-",B=T&&M?"".concat(T," / ").concat(M):r.toString(),P=u.baseTokenFree.toNumber()+u.quoteTokenFree.toNumber()===0,N=u.baseTokenTotal.toNumber()+u.quoteTokenTotal.toNumber()!==0,E=function(){var e=Object(_.a)(K.a.mark((function e(){var t,n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}throw new Error("Market client not found");case 2:if(S&&A){e.next=4;break}throw new Error("Base or quote wallet not found");case 4:return void 0,e.next=7,v.makeSettleFundsTransaction(b.program.provider.connection,u,S.publicKey,A.publicKey,undefined);case 7:return t=e.sent,n=t.transaction,r=t.signers,e.next=12,b.program.provider.send(n,r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(_.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.program.rpc.closeAccount({accounts:{openOrders:u.address,authority:b.program.provider.wallet.publicKey,destination:b.program.provider.wallet.publicKey,market:v.address,dexProgram:G.a}});case 2:f(u);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)(z.a,{children:[Object(V.jsx)(F.a,{component:"th",scope:"row",children:Object(V.jsx)(c.a,{children:Object(V.jsx)(d.a,{href:"https://dex.cyclos.io/#/market/".concat(r.toString()),target:"_blank",rel:"noopener",children:B})})}),Object(V.jsx)(F.a,{align:"center",children:Object(V.jsx)(g.a,{select:!0,variant:"outlined",size:"small",style:{maxWidth:"10rem"},value:u.address.toString(),onChange:function(e){return l(a.filter((function(t){return t.address.toString()===e.target.value}))[0])},children:a.map((function(e){return Object(V.jsx)(D.a,{value:e.address.toString(),children:e.address.toString()},e.address.toString())}))})}),Object(V.jsx)(F.a,{align:"center",children:Q(w,u.baseTokenTotal.sub(u.baseTokenFree))}),Object(V.jsx)(F.a,{align:"center",children:Q(w,u.baseTokenFree)}),Object(V.jsx)(F.a,{align:"center",children:Q(k,u.quoteTokenTotal.sub(u.quoteTokenFree))}),Object(V.jsx)(F.a,{align:"center",children:Q(k,u.quoteTokenFree)}),Object(V.jsx)(F.a,{align:"center",children:Object(V.jsx)(y.a,{color:"primary",disabled:P,onClick:E,children:"Settle"})}),Object(V.jsx)(F.a,{align:"center",children:Object(V.jsx)(y.a,{disabled:N,onClick:I,className:o.closeAccount,children:"Close"})})]},r.toString())}function Q(e,t){return e?(t.toNumber()/Math.pow(10,e.decimals)).toFixed(e.decimals):t.toNumber().toString()}var Z=Object(a.a)((function(e){return{tab:{width:"50%"},table:{},settingsButton:{padding:0,marginBottom:"4px","& *":{fontSize:e.spacing(2)}},closeAccountSwitchLabel:{color:e.palette.text.secondary},fairAutoSelected:{backgroundColor:e.palette.primary.main,padding:"3px 5px",borderRadius:"10px",color:e.palette.primary.contrastText,fontWeight:700},fairAuto:{backgroundColor:"dark"===e.palette.type?e.palette.secondary.light:e.palette.secondary.main,padding:"3px 5px",borderRadius:"10px",boxShadow:"none"}}}));function $(){var e=Z();return Object(V.jsx)(v.a,{variant:"popover",children:function(t){return Object(V.jsxs)("div",{children:[Object(V.jsx)(i.a,Object(r.a)(Object(r.a)({},Object(f.bindTrigger)(t)),{},{className:e.settingsButton,children:Object(V.jsx)(T.a,{})})),Object(V.jsx)(l.a,Object(r.a)(Object(r.a)({},Object(f.bindPopover)(t)),{},{anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},PaperProps:{style:{borderRadius:"0.5rem",boxShadow:"0px 0px 30px 5px rgba(0,0,0,0.075)",marginTop:"-0.5rem"}},children:Object(V.jsx)(ee,{})}))]})}})}function ee(){var e=Z(),t=Object(m.j)(),n=t.slippage,r=t.setSlippage,a=t.fairOverride,o=t.setFairOverride,i=Object(C.useState)(!1),s=Object(x.a)(i,2),u=s[0],l=s[1],d=Object(m.k)(),p=Object(j.d)().swapClient;return Object(V.jsxs)("div",{style:{padding:"15px",width:"305px"},children:[Object(V.jsx)(c.a,{style:{fontWeight:"bold"},children:"Settings"}),Object(V.jsxs)("div",{children:[Object(V.jsxs)("div",{style:{marginTop:"10px"},children:[Object(V.jsx)(c.a,{color:"textSecondary",style:{fontSize:"12px"},children:"Slippage tolerance"}),Object(V.jsx)(g.a,{type:"number",placeholder:"Error tolerance percentage",value:n,onChange:function(e){return t=parseFloat(e.target.value),void r(!t||t<0?0:t);var t},style:{display:"flex",justifyContent:"center",flexDirection:"column"},InputProps:{endAdornment:Object(V.jsx)(w.a,{position:"end",children:"%"})}})]}),Object(V.jsxs)("div",{style:{marginTop:"10px"},children:[Object(V.jsx)(c.a,{color:"textSecondary",style:{fontSize:"12px"},children:"Fair price"}),Object(V.jsxs)("div",{style:{display:"flex"},children:[Object(V.jsx)(g.a,{type:"number",placeholder:"Fair price override",value:d,onChange:function(e){return o(parseFloat(e.target.value))},style:{marginRight:"10px",flex:1,display:"flex",justifyContent:"center",flexDirection:"column"},disabled:null===a}),Object(V.jsx)(y.a,{component:"div",variant:"contained",onClick:function(){void 0!==d?o(null===a?d:null):console.error("Fair is undefined")},className:null===a?e.fairAutoSelected:e.fairAuto,children:"Auto"})]})]}),Object(V.jsx)("div",{style:{margin:"10px 0px"},children:Object(V.jsx)(te,{})}),Object(V.jsx)(y.a,{style:{textTransform:"none"},variant:"outlined",color:"primary",fullWidth:!0,disabled:null===p.program.provider.wallet.publicKey,onClick:function(){return l(!0)},children:"Manage DEX Accounts"})]}),Object(V.jsx)(H,{open:u,onClose:function(){return l(!1)}})]})}function te(){var e=Z(),t=Object(m.j)(),n=t.isClosingNewAccounts,r=t.setIsClosingNewAccounts;return Object(V.jsx)(k.a,{style:{display:"none"},row:!0,children:Object(V.jsx)(S.a,{classes:{label:e.closeAccountSwitchLabel},labelPlacement:"start",style:{display:"flex",justifyContent:"space-between",marginLeft:0,width:"100%"},control:Object(V.jsx)(A.a,{checked:n,onChange:function(){return r(!n)},color:"primary"}),label:"Close new accounts"})})}var ne=Object(a.a)((function(e){return{infoLabel:{margin:e.spacing(2),marginTop:e.spacing(1),marginBottom:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center"},infoButton:{marginLeft:"5px",padding:0,fontSize:"14px"}}}));function re(){var e=ne(),t=Object(m.j)(),n=t.slippage,r=t.fromMint,a=t.toMint,u=t.showReversePrices,l=t.setShowReversePrices,d=Object(h.d)(r),b=Object(h.d)(a),f=Object(m.b)(u),v=Object(O.g)(),x=v.get(r.toString()),g=v.get(a.toString()),w=Object(j.j)(r,a),y=Object(j.i)(null===w||void 0===w?void 0:w[(null===w||void 0===w?void 0:w.length)-1]);return Object(V.jsxs)(o.a,{my:2,children:[Object(V.jsxs)("div",{className:e.infoLabel,children:[Object(V.jsx)(c.a,{color:"textSecondary",align:"center",style:{fontSize:"14px",flex:1},children:void 0!==f&&g&&x?"1 ".concat(u?x.symbol:g.symbol):"-"}),Object(V.jsx)(i.a,{color:u?"primary":"default",className:e.infoButton,onClick:function(){return l((function(e){return!e}))},children:Object(V.jsx)(p.a,{})}),Object(V.jsx)(c.a,{color:"textSecondary",align:"center",style:{fontSize:"14px",flex:1},children:void 0!==f&&g&&x?u?"".concat(f.toFixed(null===b||void 0===b?void 0:b.decimals)," ").concat(g.symbol):"".concat(f.toFixed(null===d||void 0===d?void 0:d.decimals)," ").concat(x.symbol):"-"})]}),Object(V.jsx)(s.a,{}),Object(V.jsxs)("div",{className:e.infoLabel,children:[Object(V.jsx)(c.a,{color:"textSecondary",style:{fontSize:"14px"},children:"Price Impact:\xa0"}),Object(V.jsxs)(c.a,{style:{fontSize:"14px",fontWeight:500},display:"inline",color:(null!==y&&void 0!==y?y:0)>10?"error":"primary",children:[null===y||void 0===y?void 0:y.toFixed(2),"%"]})]}),Object(V.jsx)(s.a,{}),Object(V.jsxs)("div",{className:e.infoLabel,children:[Object(V.jsxs)(o.a,{display:"flex",alignItems:"center",children:[Object(V.jsx)(c.a,{color:"textSecondary",style:{fontSize:"14px"},children:"Slippage Tolerance:\xa0"}),Object(V.jsx)($,{})]}),Object(V.jsxs)(c.a,{style:{fontSize:"14px",fontWeight:500},display:"inline",color:(null!==n&&void 0!==n?n:0)>10?"error":"primary",children:[null===n||void 0===n?void 0:n.toFixed(2),"%"]})]})]})}function ae(e){var t=e.route,n=ne(),a=Object(u.a)();return Object(V.jsx)(v.a,{variant:"popover",children:function(e){return Object(V.jsxs)("div",{style:{display:"flex"},children:[Object(V.jsx)(i.a,Object(r.a)(Object(r.a)({},Object(f.bindTrigger)(e)),{},{className:n.infoButton,children:Object(V.jsx)(b.a,{fontSize:"small",htmlColor:a.palette.primary.main})})),Object(V.jsx)(l.a,Object(r.a)(Object(r.a)({},Object(f.bindPopover)(e)),{},{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{borderRadius:"10px"}},disableRestoreFocus:!0,children:Object(V.jsx)(oe,{route:t})}))]})}})}function oe(e){var t,n,r=e.route,a=Object(m.j)(),o=a.fromMint,i=a.toMint,s=Object(O.g)(),u=[{ticker:null===(t=s.get(o.toString()))||void 0===t?void 0:t.symbol,mint:o},{ticker:null===(n=s.get(i.toString()))||void 0===n?void 0:n.symbol,mint:i}];return Object(V.jsxs)("div",{style:{padding:"15px",width:"250px"},children:[Object(V.jsxs)("div",{children:[Object(V.jsx)(c.a,{color:"textSecondary",style:{fontWeight:"bold",marginBottom:"5px"},children:"Trade Route"}),r?r.map((function(e){return Object(V.jsx)(ce,{market:e},e.toString())})):Object(V.jsx)(c.a,{color:"textSecondary",children:"Route not found"})]}),Object(V.jsxs)("div",{style:{marginTop:"15px"},children:[Object(V.jsx)(c.a,{color:"textSecondary",style:{fontWeight:"bold",marginBottom:"5px"},children:"Tokens"}),u.map((function(e){return Object(V.jsxs)("div",{style:{marginTop:"5px",display:"flex",justifyContent:"space-between"},children:[Object(V.jsx)(d.a,{href:"https://explorer.solana.com/address/".concat(e.mint.toString()),target:"_blank",rel:"noopener",children:e.ticker}),Object(V.jsx)("code",{style:{width:"128px",overflow:"hidden"},children:e.mint.toString()})]},e.mint.toString())}))]})]})}function ce(e){var t=e.market,n=Object(j.g)(t),r=Object(j.c)(t);return Object(V.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"5px"},children:[Object(V.jsx)(d.a,{href:"https://dex.projectserum.com/#/market/".concat(t.toString()),target:"_blank",rel:"noopener",children:n}),Object(V.jsx)("code",{style:{marginLeft:"10px"},children:r&&r.mid?r.mid.toFixed(6):"-"})]})}},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return q})),n.d(t,"d",(function(){return z})),n.d(t,"h",(function(){return F})),n.d(t,"f",(function(){return W})),n.d(t,"l",(function(){return D})),n.d(t,"g",(function(){return U})),n.d(t,"i",(function(){return G})),n.d(t,"c",(function(){return V})),n.d(t,"e",(function(){return X})),n.d(t,"j",(function(){return H})),n.d(t,"k",(function(){return Y}));var r=n(1),a=n.n(r),o=n(3),c=n(12),i=n(0),s=n.n(i),u=n(43),l=n(79),d=n(23),p=n(5),b=n(50),f=n(62),v=n(22),j=n(35),m=n(16),h=n(6),O=n(20),x=n(21),g=n(67);function w(e){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(n=_.get(t.toString()))){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,A("GET","coins/sol/".concat(t.toString()));case 5:return r=e.sent,n=Object(m.a)(Object(m.a)({},r),{},{splMint:new p.PublicKey(r.splMint)}),_.set(t.toString(),n),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,n,r,a){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(a.a.mark((function e(t,n,r,o,c){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(i=B.get(o.toString()))){e.next=3;break}return e.abrupt("return",i);case 3:return e.next=5,t.getAccountInfo(o);case 5:if(null!==e.sent){e.next=13;break}return B.set(o.toString(),!1),A("POST","wormhole/pool/".concat(c.ticker,"/").concat(o.toString(),"/").concat(n.toString(),"/").concat(r.toString())).catch(console.error),e.abrupt("return",!1);case 13:return B.set(o.toString(),!0),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(a.a.mark((function e(t,n,r){var o,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:o={},method:t},"GET"===t?c.cache="no-cache":r&&(o["Content-Type"]="application/json",c.body=JSON.stringify(r)),e.next=5,fetch("https://swap.sollet.io/api/".concat(n),c);case 5:return i=e.sent,e.next=8,C(i);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return M.apply(this,arguments)}function M(){return(M=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if((n=e.sent).success){e.next=5;break}throw new K(n.error,t.status);case 5:return e.abrupt("return",n.result);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e,r){var a;return Object(h.a)(this,n),(a=t.call(this,e)).name=void 0,a.status=void 0,a.name="SwapApiError",a.status=r,a}return n}(Object(g.a)(Error)),_=new Map,B=new Map,P=n(34),N=n(32),E=n(4),I=.9978,R=s.a.createContext(null);function q(e){var t=Object(i.useState)(new Map),n=Object(c.a)(t,2),r=n[0],s=n[1],l=Object(i.useState)(!1),j=Object(c.a)(l,2),m=j[0],h=j[1],O=e.swapClient,x=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,o,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new Map(r),(c=null===(n=o.get(t.market.toString()))||void 0===n?void 0:n.filter((function(e){return!e.address.equals(t.address)})))&&c.length>0?o.set(t.market.toString(),c):o.delete(t.market.toString()),s(o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=new Map(r)).set(t.toString(),[n]),s(o),h(!0);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){O.program.provider.wallet.publicKey?f.OpenOrders.findForOwner(O.program.provider.connection,O.program.provider.wallet.publicKey,v.a).then(function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,c,i,l,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Map,r=new Set,t.forEach((function(e){r.add(e.market.toString()),n.get(e.market.toString())?n.get(e.market.toString()).push(e):n.set(e.market.toString(),[e])})),!(r.size>100)){e.next=5;break}throw new Error("Too many markets. Please file an issue to update this");case 5:return e.next=7,b.utils.rpc.getMultipleAccounts(O.program.provider.connection,Array.from(r.values()).map((function(e){return new p.PublicKey(e)})));case 7:if(o=e.sent,c=o.map((function(e){return{publicKey:null===e||void 0===e?void 0:e.publicKey,account:new f.Market(f.Market.getLayout(v.a).decode(null===e||void 0===e?void 0:e.account.data),-1,-1,O.program.provider.opts,v.a)}})),s(n),!((i=Array.from(new Set(c.map((function(e){return[e.account.baseMintAddress.toString(),e.account.quoteMintAddress.toString()]})).flat()).values()).map((function(e){return new p.PublicKey(e)}))).length>100)){e.next=13;break}throw new Error("Too many mints. Please file an issue to update this");case 13:return e.next=15,b.utils.rpc.getMultipleAccounts(O.program.provider.connection,i);case 15:l=e.sent,j=l.map((function(e){var t=d.MintLayout.decode(e.account.data);return Object(P.c)(e.publicKey,t),{publicKey:e.publicKey,mintInfo:t}})),c.forEach((function(e){var t=j.filter((function(t){return t.publicKey.equals(e.account.baseMintAddress)}))[0],n=j.filter((function(t){return t.publicKey.equals(e.account.quoteMintAddress)}))[0];u.ok(t&&n),e.account._baseSplTokenDecimals=t.mintInfo.decimals,e.account._quoteSplTokenDecimals=n.mintInfo.decimals,ce.set(e.publicKey.toString(),new Promise((function(t){return t(e.account)})))})),h(!0);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):s(new Map)}),[O.program.provider.connection,O.program.provider.wallet.publicKey,O.program.provider.opts]),Object(E.jsx)(R.Provider,{value:{openOrders:r,closeOpenOrders:x,addOpenOrderAccount:g,swapClient:O,isLoaded:m},children:e.children})}function z(){var e=Object(i.useContext)(R);if(null===e)throw new Error("Context not available");return e}function F(){return z().openOrders}function W(e){var t=z().swapClient,n=Object(l.a)(Object(o.a)(a.a.mark((function n(){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",void 0);case 2:if(!ce.get(e.toString())){n.next=4;break}return n.abrupt("return",ce.get(e.toString()));case 4:return r=new Promise(function(){var n=Object(o.a)(a.a.mark((function n(r){var o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.Market.load(t.program.provider.connection,e,t.program.provider.opts,v.a);case 2:o=n.sent,r(o);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),ce.set(e.toString(),r),n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)}))),[t.program.provider.connection,e]);if(n.result)return n.result}function D(){var e=z(),t=e.openOrders,n=e.swapClient,r=!1,c=n.program.provider.connection,i=n.program.provider.wallet.publicKey;if(!i)return{isUnsettledAmt:!1,settleAll:void 0};var s={};c.getParsedTokenAccountsByOwner(i,{programId:d.TOKEN_PROGRAM_ID}).then((function(e){var t;null===e||void 0===e||null===(t=e.value)||void 0===t||t.forEach((function(e){s[e.account.data.parsed.info.mint]=e.pubkey.toString()}))}));var u=[];return t.forEach((function(e){e.forEach((function(e){+e.baseTokenFree.toString()+ +e.quoteTokenFree.toString()==0||(r=!0,u.push(e))}))})),{isUnsettledAmt:r,settleAll:function(){var e=Object(o.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(u.map(function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,i,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Market.load(c,t.market,{},v.a);case 2:return n=e.sent,r=n.baseMintAddress.toString(),o=n.quoteMintAddress.toString(),i=new p.PublicKey(s[r]),u=new p.PublicKey(s[o]),e.next=9,n.makeSettleFundsTransaction(c,t,i,u);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,r=t.map((function(e){return{tx:e.transaction,signers:e.signers}})),n.program.provider.sendAll(r,n.program.provider.opts);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}function L(e){var t=z().swapClient,n=W(e),r=Object(i.useState)(0),s=Object(c.a)(r,2),u=s[0],d=s[1],p=Object(l.a)(Object(o.a)(a.a.mark((function r(){var i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&n){r.next=2;break}return r.abrupt("return",void 0);case 2:if(!oe.get(e.toString())){r.next=4;break}return r.abrupt("return",oe.get(e.toString()));case 4:return i=new Promise(function(){var e=Object(o.a)(a.a.mark((function e(r){var o,i,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.loadBids(t.program.provider.connection),n.loadAsks(t.program.provider.connection)]);case 2:o=e.sent,i=Object(c.a)(o,2),s=i[0],u=i[1],r({bids:s,asks:u});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),oe.set(e.toString(),i),r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)}))),[u,t.program.provider.connection,e,n]);if(Object(i.useEffect)((function(){var e;return(null===n||void 0===n?void 0:n.bidsAddress)&&(e=t.program.provider.connection.onAccountChange(null===n||void 0===n?void 0:n.bidsAddress,function(){var e=Object(o.a)(a.a.mark((function e(t){var r,o,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.Orderbook.decode(n,t.data),e.next=3,oe.get(n.address.toString());case 3:o=e.sent,c=null===o||void 0===o?void 0:o.bids.items(!0).next().value,i=r.items(!0).next().value,o&&c&&i&&c.price!==i.price&&(o.bids=r,d((function(e){return e+1})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),function(){e&&t.program.provider.connection.removeAccountChangeListener(e)}}),[n,null===n||void 0===n?void 0:n.bidsAddress,t.program.provider.connection]),Object(i.useEffect)((function(){var e;return(null===n||void 0===n?void 0:n.asksAddress)&&(e=t.program.provider.connection.onAccountChange(null===n||void 0===n?void 0:n.asksAddress,function(){var e=Object(o.a)(a.a.mark((function e(t){var r,o,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.Orderbook.decode(n,t.data),e.next=3,oe.get(n.address.toString());case 3:o=e.sent,c=null===o||void 0===o?void 0:o.asks.items(!1).next().value,i=r.items(!1).next().value,o&&c&&i&&c.price!==i.price&&(o.asks=r,d((function(e){return e+1})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),function(){e&&t.program.provider.connection.removeAccountChangeListener(e)}}),[n,null===n||void 0===n?void 0:n.bidsAddress,t.program.provider.connection]),p.result)return p.result}function U(e){var t,n,r=Object(j.g)(),a=W(e);if(!a)return null;var o=a?null===(t=r.get(null===a||void 0===a?void 0:a.baseMintAddress.toString()))||void 0===t?void 0:t.symbol:"-",c=a?null===(n=r.get(null===a||void 0===a?void 0:a.quoteMintAddress.toString()))||void 0===n?void 0:n.symbol:"-";return"".concat(o," / ").concat(c)}function G(e){var t=Object(N.j)(),n=t.toAmount,r=t.toMint,a=L(e);if(void 0!==a){for(var o=r.equals(a.bids.market.baseMintAddress)?a.asks.items(!1):a.bids.items(!0),c=n,i=o.next(),s=i.value.price,u=s;!i.done&&c>0;)u=i.value.price,c=c>i.value.size?c-i.value.size:0,i=o.next();return 100*Math.abs(s-u)/s}}function V(e){var t=L(e);if(void 0!==t){var n=t.bids.items(!0).next().value,r=t.asks.items(!1).next().value;if(!n&&!r)return{};if(!n)return{bestOffer:r.price};if(!r)return{bestBid:n.price};var a=(n.price+r.price)/2;return{bestBid:n.price,bestOffer:r.price,mid:a}}}function X(e,t){var n=H(e,t),r=V(n?n[0]:void 0),a=W(n?n[0]:void 0),o=V(n?n[1]:void 0);if(!Object(N.g)(e,t).isWrapUnwrap&&null!==n){if(1===n.length&&void 0!==r){if(void 0===a)return;return(null===a||void 0===a?void 0:a.baseMintAddress.equals(e))||(null===a||void 0===a?void 0:a.baseMintAddress.equals(v.n))&&e.equals(v.e)?r.bestBid&&1/r.bestBid:r.bestOffer&&r.bestOffer}if(void 0!==r&&void 0!==r.bestBid&&void 0!==o&&void 0!==o.bestOffer)return o.bestOffer/r.bestBid}}function H(e,t){var n=Y(e,t);return null===n?null:n.markets}function Y(e,t){var n=z().swapClient,r=Object(j.f)(),i=r.wormholeMap,s=r.solletMap,u=Object(l.a)(Object(o.a)(a.a.mark((function r(){var o,u,l,d,p;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Z(n.program.provider.connection,e,t,i,s);case 2:if(null===(o=r.sent)){r.next=6;break}return u=Object(c.a)(o,2),l=u[0],d=u[1],r.abrupt("return",{markets:[l],kind:d});case 6:if(null!==(p=n.route(e.equals(v.e)?v.n:e,t.equals(v.e)?v.n:t))){r.next=9;break}return r.abrupt("return",null);case 9:return"usdx",r.abrupt("return",{markets:p,kind:"usdx"});case 11:case"end":return r.stop()}}),r)}))),[e,t,n]);return u.result?u.result:null}var J=new Map([[Q(v.k,v.g),v.j],[Q(v.m,v.h),v.l]]);function Q(e,t){var n=e<t?[e,t]:[t,e],r=Object(c.a)(n,2),a=r[0],o=r[1];return a.toString()+o.toString()}function Z(e,t,n,r,a){return $.apply(this,arguments)}function $(){return($=Object(o.a)(a.a.mark((function e(t,n,r,o,c){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(i=ee(n,r))){e.next=3;break}return e.abrupt("return",[i,"wormhole-native"]);case 3:return e.next=5,te(t,n,r,o,c);case 5:if(null!==(i=e.sent)){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",[i,"wormhole-sollet"]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){var n;return null!==(n=J.get(Q(e,t)))&&void 0!==n?n:null}function te(e,t,n,r,a){return ne.apply(this,arguments)}function ne(){return(ne=Object(o.a)(a.a.mark((function e(t,n,r,o,i){var s,u,l,d,p,b,f,v,j,m,h,O,x,g,y,S;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=o.get(n.toString()),u=void 0!==s,l=o.get(r.toString()),d=void 0!==l,p=i.get(n.toString()),b=void 0!==p,f=i.get(r.toString()),v=void 0!==f,!u&&!d||u===d){e.next=28;break}if(!b&&!v||b===v){e.next=28;break}return m=b?n:r,h=u?[n,s]:[r,l],O=Object(c.a)(h,2),x=O[0],g=O[1],e.next=14,w(m);case 14:if((y=e.sent).erc20Contract===(null===(j=g.extensions)||void 0===j?void 0:j.address)){e.next=17;break}return e.abrupt("return",null);case 17:return e.next=19,re(m,x);case 19:if(null!==(S=e.sent)){e.next=22;break}return e.abrupt("return",null);case 22:return e.next=24,k(t,m,x,S,y);case 24:if(e.sent){e.next=27;break}return e.abrupt("return",null);case 27:return e.abrupt("return",S);case 28:return e.abrupt("return",null);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(o.a)(a.a.mark((function e(t,n){var r,o,c,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=i.length>2&&void 0!==i[2]?i[2]:0)>99)){e.next=4;break}return console.log("Swap market version cannot be greater than 99"),e.abrupt("return",null);case 4:if(!(r<0)){e.next=7;break}return console.log("Version cannot be less than zero"),e.abrupt("return",null);case 7:return o=function(e){return e<=99?"0".concat(e).slice(-2):e},c=t.toString().slice(0,15)+n.toString().slice(0,15)+o(r),e.next=11,p.PublicKey.createWithSeed(v.i,c,v.a);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=new Map,ce=new Map},297:function(e,t,n){},303:function(e,t){},304:function(e,t){},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return x})),n.d(t,"b",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"c",(function(){return k})),n.d(t,"e",(function(){return S})),n.d(t,"f",(function(){return A})),n.d(t,"h",(function(){return C})),n.d(t,"d",(function(){return M})),n.d(t,"i",(function(){return K}));var r=n(1),a=n.n(r),o=n(3),c=n(12),i=n(43),s=n(0),u=n.n(s),l=n(79),d=n(23),p=n(22),b=n(29),f=n(35),v=n(34),j=n(4),m=u.a.createContext(null);function h(e){var t,n,r,a,o=Object(s.useState)(null!==(t=e.fromMint)&&void 0!==t?t:p.f),u=Object(c.a)(o,2),l=u[0],d=u[1],f=Object(s.useState)(null!==(n=e.toMint)&&void 0!==n?n:p.g),v=Object(c.a)(f,2),h=v[0],O=v[1],x=Object(s.useState)(null!==(r=e.fromAmount)&&void 0!==r?r:0),g=Object(c.a)(x,2),k=g[0],S=g[1],A=Object(s.useState)(null!==(a=e.toAmount)&&void 0!==a?a:0),T=Object(c.a)(A,2),C=T[0],M=T[1],K=Object(s.useState)(!1),_=Object(c.a)(K,2),B=_[0],P=_[1],N=Object(s.useState)(!1),E=Object(c.a)(N,2),I=E[0],R=E[1],q=Object(s.useState)(!1),z=Object(c.a)(q,2),F=z[0],W=z[1],D=Object(s.useState)(.5),L=Object(c.a)(D,2),U=L[0],G=L[1],V=Object(s.useState)(null),X=Object(c.a)(V,2),H=X[0],Y=X[1],J=y(l,h).isWrapUnwrap,Q=w(l,h,H),Z=e.referral,$=J?1:b.b;i.ok(U>=0),Object(s.useEffect)((function(){Q&&ee(k)}),[Q]);var ee=function(e){if(void 0===Q)return S(0),void M(0);S(e),M($*(e/Q))};return Object(j.jsx)(m.Provider,{value:{fromMint:l,setFromMint:d,toMint:h,setToMint:O,fromAmount:k,setFromAmount:ee,toAmount:C,setToAmount:function(e){if(void 0===Q)return S(0),void M(0);M(e),S(e*Q/b.b)},swapToFromMints:function(){var e=l,t=h;S(C),d(t),O(e)},slippage:U,setSlippage:G,fairOverride:H,setFairOverride:Y,isClosingNewAccounts:I,isStrict:F,setIsStrict:W,setIsClosingNewAccounts:R,referral:Z,showReversePrices:B,setShowReversePrices:P},children:e.children})}function O(){var e=Object(s.useContext)(m);if(null===e)throw new Error("Context not available");return e}function x(){var e=O(),t=e.fairOverride;return w(e.fromMint,e.toMint,t)}function g(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=O(),n=t.fairOverride,r=t.fromMint,a=t.toMint;return e?w(a,r,n):w(r,a,n)}function w(e,t,n){var r=y(e,t).isWrapUnwrap,a=Object(b.e)(e,t);return r?1:null===n?a:n}function y(e,t){var n=e.equals(p.e)&&t.equals(p.n),r=e.equals(p.n)&&t.equals(p.e);return{isWrapSol:n,isUnwrapSol:r,isWrapUnwrap:n||r}}function k(){var e,t,n,r,a=O(),o=a.fromMint,c=a.toMint,i=Object(b.d)().swapClient,s=Object(f.f)(),u=s.wormholeMap,l=s.solletMap,d=Object(v.e)(o),p=x(),j=Object(b.k)(o,c);return null!==j&&(void 0!==d&&null!==d&&void 0!==p&&p>0&&!1===o.equals(c)&&null!==i.program.provider.wallet.publicKey&&null!==j&&("wormhole-native"!==j.kind||void 0!==(null===(e=u.get(o.toString()))||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.includes(f.b)))&&("wormhole-sollet"!==j.kind||void 0!==(null===(n=l.get(o.toString()))||void 0===n||null===(r=n.tags)||void 0===r?void 0:r.includes(f.a))))}function S(){var e=O(),t=e.fromMint,n=e.fromAmount,r=e.toAmount,a=Object(b.d)().swapClient,o=Object(v.e)(t);return void 0!==o&&null!==o&&null!==a.program.provider.wallet.publicKey&&n>0&&r>0}function A(e,t){return e.equals(p.d)&&t.equals(p.h)||e.equals(p.c)&&t.equals(p.g)}function T(e,t){return"wSOL"===t&&(t="SOL"),e+" "+t}function C(e,t){var n=O(),r=n.fromMint,a=n.fromAmount,o=n.toAmount,c=Object(b.c)(null===e||void 0===e?void 0:e.publicKey),i=Object(b.c)(null===t||void 0===t?void 0:t.publicKey),s=Object(f.g)();if(e){var u,l,d=e.quoteMintAddress.equals(r),p=e.minOrderSize,v=(d?o:a)<p;if(!t&&v)return T(p,null!==(u=null===(l=s.get(e.baseMintAddress.toString()))||void 0===l?void 0:l.symbol)&&void 0!==u?u:"unknown");if(t){var j=t.minOrderSize;if(o<j||v){var m,h,x,g,w=p*(null!==(m=null===c||void 0===c?void 0:c.bestBid)&&void 0!==m?m:0)>j*(null!==(h=null===i||void 0===i?void 0:i.bestBid)&&void 0!==h?h:0)?e:t,y=null!==(x=null===(g=s.get(w.baseMintAddress.toString()))||void 0===g?void 0:g.symbol)&&void 0!==x?x:"unknown";return T(w.minOrderSize,y)}}}}function M(){var e,t,n,r,a=O(),o=a.fromMint,c=a.toMint,i=a.fromAmount,s=a.toAmount,u=Object(b.d)().swapClient,l=Object(f.f)(),d=l.wormholeMap,p=l.solletMap,j=Object(v.e)(o),m=x(),h=Object(b.k)(o,c);return null!==h&&(void 0!==j&&null!==j&&void 0!==m&&m>0&&!1===o.equals(c)&&null!==u.program.provider.wallet.publicKey&&i>0&&s>0&&null!==h&&("wormhole-native"!==h.kind||void 0!==(null===(e=d.get(o.toString()))||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.includes(f.b)))&&("wormhole-sollet"!==h.kind||void 0!==(null===(n=p.get(o.toString()))||void 0===n||null===(r=n.tags)||void 0===r?void 0:r.includes(f.a))))}function K(e){var t=O().referral,n=Object(l.a)(Object(o.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",void 0);case 2:if(e){n.next=4;break}return n.abrupt("return",void 0);case 4:if(e.quoteMintAddress.equals(p.g)||e.quoteMintAddress.equals(p.h)){n.next=6;break}return n.abrupt("return",void 0);case 6:return n.abrupt("return",d.Token.getAssociatedTokenAddress(d.ASSOCIATED_TOKEN_PROGRAM_ID,d.TOKEN_PROGRAM_ID,e.quoteMintAddress,t));case 7:case"end":return n.stop()}}),n)}))),[e]);if(n.result)return n.result}},331:function(e,t){},332:function(e,t){},34:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return w})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return A}));var r=n(1),a=n.n(r),o=n(3),c=n(12),i=n(18),s=n(0),u=n.n(s),l=n(79),d=n(50),p=n(5),b=n(23),f=n(43),v=n.n(f),j=n(128),m=n(22),h=n(4),O=u.a.createContext(null),x=[];function g(e){x.push.apply(x,Object(i.a)(e))}function w(e){var t=e.provider,n=Object(s.useState)(0),r=Object(c.a)(n,2)[1],a=Object(s.useState)(!1),o=Object(c.a)(a,2),i=o[0],u=o[1];return Object(s.useEffect)((function(){t.wallet.publicKey?(Object(j.a)(t.connection,t.wallet.publicKey).then((function(e){e&&(g(e),r((function(e){return e+1}))),u(!0)})),t.connection.getAccountInfo(t.wallet.publicKey).then((function(e){e&&(x.push({publicKey:t.wallet.publicKey,account:{amount:new d.BN(e.lamports),mint:m.e}}),r((function(e){return e+1})))}))):r((function(e){return e+1}))}),[t.wallet.publicKey,t.connection]),Object(h.jsx)(O.Provider,{value:{provider:t,isLoaded:i,refreshTokenState:function(){r((function(e){return e+1}))}},children:e.children})}function y(){var e=Object(s.useContext)(O);if(null===e)throw new Error("Context not available");return e}function k(e){var t=y().provider,n=Object(s.useState)(0),r=Object(c.a)(n,2)[1],a=x.filter((function(t){return e&&t.account.mint.equals(e)}));a.sort((function(e,t){return e.account.amount>t.account.amount?-1:e.account.amount<t.account.amount?1:0}));var o=a[0],i=null===e||void 0===e?void 0:e.equals(m.e);if(Object(s.useEffect)((function(){var e;return o&&i?e=t.connection.onAccountChange(t.wallet.publicKey,(function(e){var t={amount:new d.BN(e.lamports),mint:m.e};if(t.amount!==o.account.amount){var n=x.indexOf(o);v.a.ok(n>=0),x[n].account=t,r((function(e){return e+1}))}})):o&&(e=t.connection.onAccountChange(o.publicKey,(function(e){if(0!==e.data.length)try{var t=Object(j.c)(e.data);if(t.amount!==o.account.amount){var n=x.indexOf(o);v.a.ok(n>=0),x[n].account=t,r((function(e){return e+1}))}}catch(a){console.log("Failed to decode token AccountInfo")}}))),function(){e&&t.connection.removeAccountChangeListener(e)}}),[t.connection,o]),void 0!==e)return i||0!==a.length?o:null}function S(e){var t=y().provider,n=Object(l.a)(Object(o.a)(a.a.mark((function n(){var r,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",void 0);case 2:if(!T.get(e.toString())){n.next=4;break}return n.abrupt("return",T.get(e.toString()));case 4:return r=new b.Token(t.connection,e,b.TOKEN_PROGRAM_ID,new p.Account),o=r.getMintInfo(),T.set(e.toString(),o),n.abrupt("return",o);case 8:case"end":return n.stop()}}),n)}))),[t.connection,e]);if(n.result)return n.result}function A(e,t){T.set(e.toString(),new Promise((function(e){return e(t)})))}var T=new Map([[m.e.toString(),{decimals:9}]])},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return y})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return S}));var r=n(1),a=n.n(r),o=n(18),c=n(3),i=n(16),s=n(12),u=n(0),l=n.n(u),d=n(5),p=n(119);var b=n(22),f=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.solscan.io/market?symbol=SOL");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n.data.priceUsdt);case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],e.prev=1,!t){e.next=9;break}return e.next=5,fetch("https://api.solscan.io/account/tokens?address=".concat(t,"&price=1"));case 5:return e.next=7,e.sent.json();case 7:r=e.sent,n=r.data.map((function(e){var t;return{address:e.tokenAddress,balance:e.tokenAmount.uiAmountString,usd:+(e.tokenAmount.uiAmount*(null!==(t=e.priceUsdt)&&void 0!==t?t:0)).toFixed(4)}}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.abrupt("return",n.filter((function(e){return+e.balance>0})));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),j=n(4),m=l.a.createContext(null),h="wrapped-sollet",O="wormhole",x={chainId:101,address:b.e.toString(),name:"Native SOL",decimals:"9",symbol:"SOL",logoURI:"https://cdn.jsdelivr.net/gh/trustwallet/assets@master/blockchains/solana/info/logo.png",tags:[],extensions:{website:"https://solana.com/",serumV3Usdc:"9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT",serumV3Usdt:"HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1",coingeckoId:"solana",waterfallbot:"https://t.me/SOLwaterfall"}};function g(e){var t,n,r=Object(u.useState)([]),l=Object(s.a)(r,2),b=l[0],g=l[1],w=Object(u.useMemo)((function(){var t=e.tokenList.filterByClusterSlug("mainnet-beta").getList().map((function(e){return e.address===p.WRAPPED_SOL_MINT.toString()?Object(i.a)(Object(i.a)({},e),{},{symbol:"wSOL"}):e}));return t.push(x),t}),[e.tokenList]),y=null===e||void 0===e||null===(t=e.provider)||void 0===t||null===(n=t.wallet)||void 0===n?void 0:n.publicKey,k=Object(u.useMemo)((function(){var e=new Map;return w.forEach((function(t){e.set(t.address,t)})),e}),[w]);Object(u.useEffect)((function(){Object(c.a)(a.a.mark((function t(){var n,r,c,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=0,!y){t.next=5;break}return t.next=4,e.provider.connection.getBalance(y);case 4:n=t.sent;case 5:return t.next=7,v(null===y||void 0===y?void 0:y.toString());case 7:return r=t.sent,t.next=10,f();case 10:c=t.sent,n/=Math.pow(10,+x.decimals),i={address:x.address,balance:n.toFixed(6),usd:+(n*c).toFixed(4)},g(y?[i].concat(Object(o.a)(r)):r);case 14:case"end":return t.stop()}}),t)})))()}),[y]);var S=Object(u.useMemo)((function(){var e=w.filter((function(e){var t,n;return(null===(t=e.extensions)||void 0===t?void 0:t.serumV3Usdt)||(null===(n=e.extensions)||void 0===n?void 0:n.serumV3Usdc)})),t=b.map((function(e){return e.address})),n=e.reduce((function(e,n){var r=Object(s.a)(e,2),a=r[0],c=r[1];return t.includes(n.address)?[[].concat(Object(o.a)(a),[n]),c]:[a,[].concat(Object(o.a)(c),[n])]}),[[],[]]),r=Object(s.a)(n,2),a=r[0],c=r[1];return c.sort((function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0})),a.sort((function(e,t){var n,r;return+(null===(n=b.filter((function(e){return e.address===t.address})))||void 0===n?void 0:n[0].usd)-+(null===(r=b.filter((function(t){return t.address===e.address})))||void 0===r?void 0:r[0].usd)})),a.concat(c)}),[w,k,b]),A=Object(u.useMemo)((function(){var e=w.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.includes(h)}));return e.sort((function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0})),[e,new Map(e.map((function(e){return[e.address,e]})))]}),[w]),T=Object(s.a)(A,2),C=T[0],M=T[1],K=Object(u.useMemo)((function(){var e=w.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.includes(O)}));return e.sort((function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0})),[e,new Map(e.map((function(e){return[e.address,e]})))]}),[w]),_=Object(s.a)(K,2),B=_[0],P=_[1],N=Object(u.useState)(void 0),E=Object(s.a)(N,2),I=E[0],R=E[1],q=function(e){var t=localStorage.getItem(e),n=JSON.parse(t);return[n,function(t){-1==(n=n||[]).indexOf(t)&&(n.push(t),localStorage.setItem(e,JSON.stringify(n)))},function(t){n.splice(t,1),localStorage.setItem(e,JSON.stringify(n))}]}("swapui-common-bases"),z=Object(s.a)(q,3),F=z[0],W=z[1],D=z[2];Object(u.useEffect)((function(){var t,n;null==F&&(F=null!==(n=e.commonBases)&&void 0!==n?n:[]);e.commonBases&&(e.commonBases.forEach((function(e){return W(e.toString())})),F.concat(e.commonBases));var r=null===(t=F=F.map((function(e){return new d.PublicKey(e.toString())})))||void 0===t?void 0:t.map((function(e){var t=k.get(e.toString());return t.isCommonBase=!0,W(t.address),t}));return R(r),r}),[e.commonBases]);var L=Object(u.useMemo)((function(){var e=new Map;return null===I||void 0===I||I.forEach((function(t){e.set(t.address,t)})),e}),[I]);return Object(j.jsx)(m.Provider,{value:{tokenMap:k,wormholeMap:P,solletMap:M,swappableTokens:S,swappableTokensWormhole:B,swappableTokensSollet:C,tokenBase:I,addNewBase:function(e){if(!(null===I||void 0===I?void 0:I.some((function(t){return e.address.toString()===t.address.toString()})))){var t=Object(i.a)(Object(i.a)({},e),{},{isCommonBase:!0});W(e.address),R((function(e){return[].concat(Object(o.a)(e),[t])}))}},removeBase:function(e){var t,n=null!==(t=null===I||void 0===I?void 0:I.findIndex((function(t){return e.address.toString()===t.address.toString()})))&&void 0!==t?t:-1;if(-1!=n){var r=null===I||void 0===I?void 0:I.slice();null===r||void 0===r||r.splice(n,1),R(r),D(n)}},tokenBaseMap:L,ownedTokensDetailed:b},children:e.children})}function w(){var e=Object(u.useContext)(m);if(null===e)throw new Error("Context not available");return e}function y(){return w().tokenMap}function k(){var e=w();return{swappableTokens:e.swappableTokens,swappableTokensWormhole:e.swappableTokensWormhole,swappableTokensSollet:e.swappableTokensSollet}}function S(){var e=w();return{tokenBase:e.tokenBase,addNewBase:e.addNewBase,tokenBaseMap:e.tokenBaseMap,removeBase:e.removeBase}}},396:function(e,t,n){},399:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(31),c=n.n(o),i=(n(297),n(1)),s=n.n(i),u=n(3),l=n(6),d=n(9),p=n(145),b=n(66),f=n(20),v=n(21),j=n(12),m=n(16),h=(n(298),n(130)),O=n(274),x=n(466),g=n(51),w=n(64),y=n(88),k=n(467),S=n(469),A=n(470),T=n(269),C=n.n(T),M=n(50),K=n(125),_=n(5),B=n(271),P=n(264),N=n(84),E=(n(176),n(29)),I=n(32),R=n(34),q=n(35),z=n(4);function F(e){var t=e.containerStyle,n=e.contentStyle,r=e.swapTokenContainerStyle,a=e.swapButtonStyle,o=e.connectWalletCallback,c=e.provider,i=e.tokenList,s=e.commonBases,u=e.fromMint,l=e.toMint,d=e.fromAmount,p=e.toAmount,b=e.referral,f=new P.Swap(c,i);return Object(z.jsx)(q.c,{tokenList:i,commonBases:s,provider:c,children:Object(z.jsx)(R.a,{provider:c,children:Object(z.jsx)(E.a,{swapClient:f,children:Object(z.jsx)(I.a,{fromMint:u,toMint:l,fromAmount:d,toAmount:p,referral:b,children:Object(z.jsx)(N.b,{containerStyle:t,contentStyle:n,swapTokenContainerStyle:r,swapButtonStyle:a,connectWalletCallback:o})})})})})}var W=n(270),D=n(468),L=n(465),U=n(42),G=n.n(U),V=n(265),X=n(219),H=new _.PublicKey("11111111111111111111111111111111"),Y=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this))._connecting=void 0,e._publicKey=void 0,e._transport=void 0,e._connecting=!1,e._publicKey=null,e._transport=null,e}return Object(d.a)(n,[{key:"publicKey",get:function(){return this._publicKey||H}},{key:"connected",get:function(){return null!==this._publicKey}},{key:"autoApprove",get:function(){return!1}},{key:"signAllTransactions",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=0;case 2:if(!(r<t.length)){e.next=11;break}return a=t[r],e.next=6,this.signTransaction(a);case 6:o=e.sent,n.push(o);case 8:r++,e.next=2;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._transport&&this._publicKey){e.next=2;break}throw new Error("Not connected to Ledger");case 2:return e.next=4,Object(X.b)(this._transport,t);case 4:return n=e.sent,t.addSignature(this._publicKey,n),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._connecting){e.next=2;break}return e.abrupt("return");case 2:return this._connecting=!0,e.prev=3,e.next=6,V.a.create();case 6:return this._transport=e.sent,e.next=9,Object(X.a)(this._transport);case 9:this._publicKey=e.sent,this.emit("connect",this._publicKey),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,this.disconnect();case 17:return e.abrupt("return");case 18:return e.prev=18,this._connecting=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,13,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,!this._transport){e.next=6;break}return e.next=4,this._transport.close();case 4:this._transport=null,t=!0;case 6:this._connecting=!1,this._publicKey=null,t&&this.emit("disconnect");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(G.a),J=n(47),Q=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this))._handleConnect=function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e).emit.apply(t,["connect"].concat(r))},e._handleDisconnect=function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e).emit.apply(t,["disconnect"].concat(r))},e.connect=e.connect.bind(Object(J.a)(e)),e}return Object(d.a)(n,[{key:"_provider",get:function(){var e,t;if(null===(e=window)||void 0===e||null===(t=e.solana)||void 0===t?void 0:t.isPhantom)return window.solana}},{key:"connected",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.isConnected)||!1}},{key:"autoApprove",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.autoApprove)||!1}},{key:"signAllTransactions",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signAllTransactions(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publicKey",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.publicKey)||H}},{key:"signTransaction",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signTransaction(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e,t,n;if(!this._provider)return!1;this._provider.listeners("connect").length||(null===(t=this._provider)||void 0===t||t.on("connect",this._handleConnect));this._provider.listeners("disconnect").length||(null===(n=this._provider)||void 0===n||n.on("disconnect",this._handleDisconnect));return null===(e=this._provider)||void 0===e?void 0:e.connect()}},{key:"disconnect",value:function(){this._provider&&this._provider.disconnect()}}]),n}(G.a);var Z=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this))._publicKey=void 0,e._onProcess=void 0,e._connected=void 0,e._onProcess=!1,e._connected=!1,e.connect=e.connect.bind(Object(J.a)(e)),e}return Object(d.a)(n,[{key:"connected",get:function(){return this._connected}},{key:"autoApprove",get:function(){return!1}},{key:"signAllTransactions",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signAllTransactions(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_provider",get:function(){var e,t;if(null===(e=window)||void 0===e||null===(t=e.solana)||void 0===t?void 0:t.isMathWallet)return window.solana}},{key:"publicKey",get:function(){return this._publicKey||H}},{key:"signTransaction",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signTransaction(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=this;this._onProcess||this._provider&&(this._onProcess=!0,this._provider.getAccount().then((function(t){e._publicKey=new _.PublicKey(t),e._connected=!0,e.emit("connect",e._publicKey)})).catch((function(){e.disconnect()})).finally((function(){e._onProcess=!1})))}},{key:"disconnect",value:function(){this._publicKey&&(this._publicKey=void 0,this._connected=!1,this.emit("disconnect"))}}]),n}(G.a),$=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this))._handleConnect=function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e).emit.apply(t,["connect"].concat(r))},e._handleDisconnect=function(){var t,n,r;null===(t=e._provider)||void 0===t||t.off("connect",e._handleConnect),null===(n=e._provider)||void 0===n||n.off("disconnect",e._handleDisconnect);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];(r=e).emit.apply(r,["disconnect"].concat(o))},e.connect=e.connect.bind(Object(J.a)(e)),e}return Object(d.a)(n,[{key:"_provider",get:function(){var e,t;if(null===(e=window)||void 0===e||null===(t=e.solflare)||void 0===t?void 0:t.isSolflare)return window.solflare}},{key:"connected",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.isConnected)||!1}},{key:"autoApprove",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.autoApprove)||!1}},{key:"signAllTransactions",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signAllTransactions(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publicKey",get:function(){var e;return(null===(e=this._provider)||void 0===e?void 0:e.publicKey)||H}},{key:"signTransaction",value:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signTransaction(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return");case 2:return null===(t=this._provider)||void 0===t||t.on("connect",this._handleConnect),null===(n=this._provider)||void 0===n||n.on("disconnect",this._handleDisconnect),e.abrupt("return",null===(r=this._provider)||void 0===r?void 0:r.connect());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._provider&&this._provider.disconnect();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(G.a),ee=n(419),te=n(408),ne=n(406),re=n(276),ae=n(464),oe=n(280),ce=n(409),ie="https://cdn.jsdelivr.net/gh/solana-labs/oyster@main/assets/wallets",se=[{name:"Phantom",url:"https://www.phantom.app",icon:"https://www.phantom.app/img/logo.png",adapter:Q},{name:"Solflare",url:"https://solflare.com/access-wallet",icon:"".concat(ie,"/solflare.svg")},{name:"Solflare Extension",url:"https://solflare.com",icon:"".concat(ie,"/solflare.svg"),adapter:$},{name:"sollet.io",url:"https://www.sollet.io",icon:"".concat(ie,"/sollet.svg")},{name:"Sollet Extension",url:"https://www.sollet.io/extension",icon:"".concat(ie,"/sollet.svg"),adapter:function(e,t){var n=window.sollet;return n?new K.a(n,t):{on:function(){},connect:function(){}}}},{name:"Ledger",url:"https://www.ledger.com",icon:"".concat(ie,"/ledger.svg"),adapter:Y},{name:"MathWallet",url:"https://www.mathwallet.org",icon:"".concat(ie,"/mathwallet.svg"),adapter:Z}],ue=a.a.createContext(null);function le(e){var t,n,a,o=e.children,c=Object(r.useState)(void 0),i=Object(j.a)(c,2),s=i[0],u=i[1],l=Object(r.useState)(!1),d=Object(j.a)(l,2),p=d[0],b=d[1],f=Object(r.useState)(!1),v=Object(j.a)(f,2),m=v[0],O=v[1],x=Object(r.useState)(localStorage.getItem("providerUrl")),g=Object(j.a)(x,2),w=g[0],y=g[1],k=Object(h.b)().enqueueSnackbar,S=null!==(t=localStorage.getItem("network"))&&void 0!==t?t:"https://dawn-red-log.solana-mainnet.quiknode.pro/ff88020a7deb8e7d855ad7c5125f489ef1e9db71/";Object(r.useEffect)((function(){var e=se.find((function(e){return e.url===w}));if(e){var t=function(){(s=new(e.adapter||K.a)(w,S),u(s),s&&m)&&(!s.connect()&&k("Please install ".concat(e.name,": ").concat(w),{variant:"error"}))};if("complete"!==document.readyState){var n=function e(){t(),window.removeEventListener("load",e)};return window.addEventListener("load",n),function(){return window.removeEventListener("load",n)}}t()}}),[w]),Object(r.useEffect)((function(){s&&(s.on("connect",(function(){var e;if(null===(e=s)||void 0===e?void 0:e.publicKey){console.log("connected"),b(!0),localStorage.setItem("autoConnect",String(!0));var t=s.publicKey.toBase58(),n=t.length>20?"".concat(t.substring(0,7),".....").concat(t.substring(t.length-7,t.length)):t;k("Connected to wallet ".concat(n),{variant:"info"}),w&&localStorage.setItem("providerUrl",w)}})),s.on("disconnect",(function(){console.log("disconnect"),b(!1),k("Disconnected from wallet",{variant:"info"})})))}),[s]);var A=Object(r.useState)(!1),T=Object(j.a)(A,2),C=T[0],M=T[1],_=Object(r.useCallback)((function(){return M(!0)}),[]),B=Object(r.useCallback)((function(){return M(!1)}),[]);return Object(z.jsxs)(ue.Provider,{value:{wallet:s,connected:p,select:_,providerUrl:w,providerName:null!==(n=null===(a=se.find((function(e){return e.url===w})))||void 0===a?void 0:a.name)&&void 0!==n?n:w},children:[o,Object(z.jsxs)(ee.a,{"aria-labelledby":"dialog-title",open:C,onClose:function(){B()},fullWidth:!0,maxWidth:"xs",children:[Object(z.jsx)(te.a,{id:"dialog-title",children:"Select Wallet"}),Object(z.jsx)(ne.a,{children:se.map((function(e){return Object(z.jsxs)(re.a,{button:!0,onClick:function(){return function(e){y(e),O(!0),B()}(e.url)},children:[Object(z.jsx)(ae.a,{children:Object(z.jsx)(oe.a,{src:e.icon})}),Object(z.jsx)(ce.a,{primary:e.name})]},e.name)}))})]})]})}function de(){var e=Object(r.useContext)(ue);if(!e)throw new Error("Missing wallet context");var t=Object(h.b)().enqueueSnackbar,n=e.wallet;return{connected:e.connected,wallet:n,providerUrl:e.providerUrl,providerName:e.providerName,select:e.select,connect:function(){n?!n.connect()&&t("Please install ".concat(e.providerName,": ").concat(e.providerUrl),{variant:"error"}):e.select()},disconnect:function(){null===n||void 0===n||n.disconnect(),localStorage.removeItem("autoConnect")}}}n(396);var pe=n.p+"static/media/logo.c3fca213.png",be=n(455),fe=n(68),ve=n.n(fe),je=Object(W.a)({palette:{type:"dark",primary:{main:"#ff9332",contrastText:"#e5e5e5"}},shape:{borderRadius:0},typography:{button:{textTransform:"none"}}});function me(){var e=Object(O.a)((function(e){return{root:{padding:"0px",minHeight:"64px",backgroundColor:"#141414",color:e.palette.primary.main},logo:{"& img":{height:"48px",marginRight:"8px"}},title:{fontWeight:"bold"},menu:{marginLeft:e.spacing(1),"& .active":{color:"white"}},btnConnect:{marginLeft:"auto","& button":{color:e.palette.primary.main}}}}))(),t=de(),n=t.connected,a=t.wallet,o=t.connect,c=t.select,i=t.disconnect,s=localStorage.getItem("autoConnect");return Object(r.useEffect)((function(){a&&s&&!n&&o()}),[a,s,o,n]),Object(z.jsx)(r.Fragment,{children:Object(z.jsx)(L.a,{className:e.root,children:Object(z.jsxs)(x.a,{children:[Object(z.jsx)("div",{className:e.logo,children:Object(z.jsx)("img",{src:pe,alt:"Solarna"})}),Object(z.jsx)(g.a,{className:e.title,children:"SOLARNA"}),Object(z.jsx)(w.a,{className:e.menu,children:"Swap"}),Object(z.jsx)(ve.a,{variant:"popover",popupId:"demo-popup-popover",children:function(t){return Object(z.jsxs)("div",{children:[Object(z.jsx)(w.a,Object(m.a)(Object(m.a)({color:"inherit",className:e.menu},Object(fe.bindTrigger)(t)),{},{children:"Cross-Swap"})),Object(z.jsx)(be.a,Object(m.a)(Object(m.a)({},Object(fe.bindPopover)(t)),{},{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(z.jsx)(y.a,{p:1,children:Object(z.jsx)(g.a,{children:"Coming soon."})})}))]})}}),Object(z.jsx)(w.a,{color:"inherit",className:e.menu,href:"https://dex.solarna.io",children:"Exchange"}),Object(z.jsxs)(k.a,{className:e.btnConnect,children:[Object(z.jsx)(w.a,{size:"small",variant:"outlined",onClick:function(){return n?i():o()},children:n?"Disconnect":"Connect"}),Object(z.jsx)(w.a,{size:"small",variant:"outlined",onClick:function(){return c()},children:Object(z.jsx)(C.a,{})})]})]})})})}function he(){var e,t=Object(O.a)((function(e){return{root:{minHeight:"100vh",paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}}}))(),n=Object(h.b)().enqueueSnackbar,a=[new _.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),new _.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),new _.PublicKey("So11111111111111111111111111111111111111112"),new _.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt")],o=Object(r.useState)(null),c=Object(j.a)(o,2),i=c[0],s=c[1];Object(r.useEffect)((function(){(new B.a).resolve().then(s)}),[s]);var u=de(),l=u.connected,d=u.wallet,p=null!==(e=localStorage.getItem("network"))&&void 0!==e?e:"https://dawn-red-log.solana-mainnet.quiknode.pro/ff88020a7deb8e7d855ad7c5125f489ef1e9db71/",b={preflightCommitment:"recent",commitment:"recent"},f=Object(r.useMemo)((function(){var e=new _.Connection(p,b.preflightCommitment);return void 0===d&&(d=new K.a("https://www.sollet.io",p)),new Oe(e,d,b,(function(e,t){t?n("Error: ".concat(t.toString()),{variant:"error"}):n("Transaction sent",{variant:"success",action:Object(z.jsx)(w.a,{color:"inherit",component:"a",target:"_blank",rel:"noopener",href:"https://explorer.solana.com/tx/".concat(e),children:"View on Solana Explorer"})})}))}),[l]),v=new _.PublicKey("46YsYoPednPzS39t6ucsfU2oUFRj2n1iSUF5Ei44VMnx");return Object(z.jsx)(r.Fragment,{children:Object(z.jsx)(A.a,{container:!0,justifyContent:"center",alignItems:"center",className:t.root,children:i&&Object(z.jsx)(F,{provider:f,tokenList:i,commonBases:a,referral:v,connectWalletCallback:function(){return d&&d.connect()}})})})}var Oe=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e,r,a,o){var c;Object(l.a)(this,n);var i=r;return(c=t.call(this,e,i,a)).onTransaction=void 0,c.onTransaction=o,c}return Object(d.a)(n,[{key:"send",value:function(){var e=Object(u.a)(s.a.mark((function e(t,r,a){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.a)(Object(b.a)(n.prototype),"send",this).call(this,t,r,a);case 3:return o=e.sent,this.onTransaction(o),e.abrupt("return",o);case 8:return e.prev=8,e.t0=e.catch(0),(e.t0 instanceof Error||void 0===e.t0)&&this.onTransaction(void 0,e.t0),e.abrupt("return","");case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"sendAll",value:function(){var e=Object(u.a)(s.a.mark((function e(t,r){var a,o=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.a)(Object(b.a)(n.prototype),"sendAll",this).call(this,t,r);case 3:return(a=e.sent).forEach((function(e){o.onTransaction(e)})),e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),(e.t0 instanceof Error||void 0===e.t0)&&this.onTransaction(void 0,e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(M.Provider),xe=function(){var e="https://marinade.rpcpool.com;https://francium.rpcpool.com;https://dexlab.rpcpool.com;https://magiceden.rpcpool.com;http://parrot.rpcpool.com;https://orca.rpcpool.com;https://hedgehog.rpcpool.com;https://dawn-red-log.solana-mainnet.quiknode.pro/ff88020a7deb8e7d855ad7c5125f489ef1e9db71/".split(";"),t=e[Math.floor(Math.random()*e.length)];return localStorage.setItem("network",t),Object(z.jsxs)(D.a,{theme:je,children:[Object(z.jsx)(S.a,{}),Object(z.jsx)(h.a,{maxSnack:5,autoHideDuration:3e3,children:Object(z.jsxs)(le,{children:[Object(z.jsx)(me,{}),Object(z.jsx)(he,{})]})})]})};c.a.render(Object(z.jsx)(xe,{}),document.getElementById("root"))},84:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return q})),n.d(t,"a",(function(){return V}));var r=n(18),a=n(1),o=n.n(a),c=n(3),i=n(16),s=n(12),u=n(274),l=n(278),d=n(402),p=n(64),b=n(223),f=n(51),v=n(48),j=n(88),m=n(279),h=n(280),O=n(418),x=n(403),g=n(413),w=n(414),y=n(50),k=n(62),S=n(23),A=n(5),T=n(0),C=n(29),M=n(32),K=n(34),_=n(35),B=n(22),P=n(128),N=n(220),E=n(176),I=n(4),R=Object(u.a)((function(e){return{container:{width:e.spacing(54)},card:{borderRadius:e.spacing(2),boxShadow:"0px 0px 30px 5px rgba(0,0,0,0.075)",padding:e.spacing(2)},alert:{borderRadius:e.spacing(2),boxShadow:"0px 0px 30px 5px rgba(0,0,0,0.075)",marginTop:e.spacing(1)},tab:{width:"50%"},settingsButton:{padding:0},swapButton:{width:"100%",borderRadius:e.spacing(2),backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,fontSize:16,fontWeight:700,padding:e.spacing(1.5),"&:disabled":{cursor:"not-allowed",pointerEvents:"all !important"}},swapToFromButton:{display:"block",margin:"0px auto 0px auto",cursor:"pointer",backgroundColor:e.palette.background.paper,borderRadius:e.spacing(1),boxShadow:"0px 0px 2px 1px rgba(33,150,243,0.1)",fontSize:e.spacing(4)},amountInput:{fontSize:22,fontWeight:600},input:{textAlign:"right"},swapTokenFormContainer:{borderRadius:e.spacing(2),boxShadow:"0px 0px 15px 2px rgba(33,150,243,0.1)",display:"flex",flexDirection:"column",justifyContent:"space-around",padding:e.spacing(1)},swapTokenSelectorContainer:{marginLeft:e.spacing(1),display:"flex",flexDirection:"column",width:"50%"},balanceContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",marginLeft:e.spacing(1),marginRight:e.spacing(.5),fontSize:"14px",minHeight:e.spacing(3.8)},maxButton:{marginLeft:e.spacing(2),color:e.palette.primary.main,fontWeight:700,fontSize:"12px",textTransform:"none",maxWidth:"min-content",minWidth:"min-content"},tokenButton:{display:"flex",alignItems:"center",cursor:"pointer",marginBottom:e.spacing(1)},infoButton:{marginLeft:"5px",padding:0,fontSize:"14px"},settleButton:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,cursor:"pointer",marginLeft:"auto"}}}));function q(e){var t=e.containerStyle,n=e.contentStyle,r=e.swapTokenContainerStyle,a=e.swapButtonStyle,o=e.connectWalletCallback,c=R(),i=Object(C.l)().isUnsettledAmt,u=Object(T.useState)(i),d=Object(s.a)(u,2),p=d[0],b=d[1];return Object(T.useMemo)((function(){b(i)}),[i]),Object(I.jsxs)("div",{className:c.container,children:[Object(I.jsxs)(l.a,{className:c.card,style:t,children:[Object(I.jsx)(F,{}),Object(I.jsxs)("div",{style:n,children:[Object(I.jsx)(D,{style:r}),Object(I.jsx)(W,{style:r}),Object(I.jsx)(L,{style:r}),Object(I.jsx)(N.b,{}),Object(I.jsx)(H,{swapButtonStyle:a,connectWalletCallback:o})]})]}),Object(I.jsx)(z,{style:t,open:p,setOpen:b})]})}function z(e){var t=e.style,n=e.open,r=e.setOpen,a=R(),o=Object(C.l)().settleAll;return Object(I.jsx)(d.a,{in:n,unmountOnExit:!0,children:Object(I.jsx)(l.a,{className:a.alert,style:t,children:Object(I.jsx)(O.a,{severity:"warning",action:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(p.a,{variant:"text",style:{textTransform:"none"},size:"small",color:"primary",onClick:o,children:"Settle All"}),"\xa0\xa0",Object(I.jsx)(b.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){r(!1)},children:Object(I.jsx)(x.a,{fontSize:"inherit"})})]}),children:Object(I.jsx)(f.a,{variant:"caption",children:"You have some unsettled balance."})})})})}function F(){var e=Object(M.j)(),t=e.fromMint,n=e.toMint,r=Object(C.j)(t,n);return Object(I.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[Object(I.jsx)(f.a,{style:{fontSize:18,fontWeight:700},children:"SWAP"}),Object(I.jsx)(N.a,{route:r})]})}function W(e){var t=e.style,n=R(),r=Object(v.a)(),a=Object(M.j)().swapToFromMints;return Object(I.jsx)(j.a,{my:-1,position:"relative",children:Object(I.jsx)(g.a,{className:n.swapToFromButton,fontSize:"large",style:t,htmlColor:r.palette.primary.main,onClick:a})})}function D(e){var t=e.style,n=Object(M.j)(),r=n.fromMint,a=n.setFromMint,o=n.fromAmount,c=n.setFromAmount;return Object(I.jsx)(U,{from:!0,style:t,mint:r,setMint:a,amount:o,setAmount:c})}function L(e){var t=e.style,n=Object(M.j)(),r=n.toMint,a=n.setToMint,o=n.toAmount,c=n.setToAmount;return Object(I.jsx)(U,{from:!1,style:t,mint:r,setMint:a,amount:o,setAmount:c})}function U(e){e.from;var t=e.style,n=e.mint,r=e.setMint,a=e.amount,o=e.setAmount,c=R(),i=Object(T.useState)(!1),u=Object(s.a)(i,2),l=u[0],d=u[1],b=Object(K.e)(n),v=Object(K.d)(n),h=b&&v&&b.account.amount.toNumber()/Math.pow(10,v.decimals),O=v&&a?a.toLocaleString("fullwide",{maximumFractionDigits:v.decimals,useGrouping:!1}):a,x=Object(T.useMemo)((function(){return Object(I.jsx)(E.a,{setMint:r,open:l,onClose:function(){return d(!1)}})}),[l]);return Object(I.jsxs)("div",{className:c.swapTokenFormContainer,style:t,children:[Object(I.jsxs)(j.a,{display:"flex",justifyContent:"space-between",children:[Object(I.jsx)(j.a,{className:c.swapTokenSelectorContainer,children:Object(I.jsx)(G,{mint:n,onClick:function(){return d(!0)}})}),Object(I.jsx)(m.a,{type:"number",value:O,onChange:function(e){return o(parseFloat(e.target.value))},InputProps:{disableUnderline:!0,classes:{root:c.amountInput,input:c.input}}})]}),Object(I.jsxs)(j.a,{className:c.balanceContainer,children:[b&&v?Object(I.jsxs)(j.a,{children:[Object(I.jsx)(f.a,{variant:"caption",children:Object(I.jsx)("small",{children:"Balance:\xa0"})}),null===h||void 0===h?void 0:h.toFixed(v.decimals)]}):"-",!!h&&Object(I.jsxs)("div",{children:[Object(I.jsx)(p.a,{variant:"text",size:"small",className:c.maxButton,onClick:function(){return o(h/2)},children:"Half"}),Object(I.jsx)(p.a,{variant:"text",size:"small",className:c.maxButton,onClick:function(){return o(h)},children:"Max"})]})]}),x]})}function G(e){var t=e.mint,n=e.onClick,r=R(),a=Object(v.a)();return Object(I.jsxs)("div",{onClick:n,className:r.tokenButton,children:[Object(I.jsx)(V,{mint:t,style:{width:a.spacing(4),height:a.spacing(4)}}),Object(I.jsx)(X,{mint:t,style:{fontSize:14,fontWeight:700}}),Object(I.jsx)(w.a,{})]})}function V(e){var t=e.mint,n=e.style,r=Object(_.g)().get(t.toString());return Object(I.jsx)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(I.jsx)(h.a,{alt:null===r||void 0===r?void 0:r.name,style:n,src:null===r||void 0===r?void 0:r.logoURI})})}function X(e){var t=e.mint,n=e.style,r=Object(_.g)(),a=Object(v.a)(),o=r.get(t.toString());return Object(I.jsx)(f.a,{style:Object(i.a)({marginLeft:a.spacing(2),marginRight:a.spacing(1)},n),children:null===o||void 0===o?void 0:o.symbol})}function H(t){var n,a,i=t.swapButtonStyle,s=t.connectWalletCallback,u=R(),l=Object(M.j)(),d=l.fromMint,b=l.toMint,f=l.fromAmount,v=(l.toAmount,l.slippage),j=l.isClosingNewAccounts,m=l.isStrict,h=Object(C.d)(),O=h.swapClient,x=h.isLoaded,g=h.addOpenOrderAccount,w=h.openOrders,N=Object(K.f)(),E=N.isLoaded,q=N.refreshTokenState,z=(Object(_.g)(),Object(K.d)(d)),F=Object(K.d)(b),W=Object(C.k)(d,b),D=Object(C.f)(W&&W.markets?W.markets[0]:void 0),L=Object(C.f)(W&&W.markets?W.markets[1]:void 0),U=Object(K.e)(b),G=Object(K.e)(d),V=D&&D.quoteMintAddress,X=Object(K.d)(V),H=Object(K.e)(V),J=Object(M.c)(),$=Object(M.e)(),ee=Object(M.d)(),te=Object(M.i)(D),ne=Object(M.k)(),re=Object(M.h)(D,L),ae=Object(M.g)(d,b),oe=ae.isWrapSol,ce=ae.isUnwrapSol,ie=Object(M.f)(d,b),se=Object(T.useMemo)((function(){return D?w.get(null===D||void 0===D?void 0:D.address.toString()):void 0}),[D,w]),ue=Object(T.useMemo)((function(){return L?w.get(null===L||void 0===L?void 0:L.address.toString()):void 0}),[L,w]),le=!O.program.provider.wallet.publicKey,de=0==f||f*Math.pow(10,null!==(n=null===z||void 0===z?void 0:z.decimals)&&void 0!==n?n:0)>(null!==(a=null===G||void 0===G?void 0:G.account.amount.toNumber())&&void 0!==a?a:0),pe=!U||!ie&&(!se||L&&!ue),be=function(){var e=Object(c.a)(o.a.mark((function e(){var t,n,r,a,i,s,u,l,d,p,f,v,j,m,h,x,w;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=function(){return(m=Object(c.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.OpenOrders.load(O.program.provider.connection,t,B.a);case 2:n=e.sent,g(n.market,n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},j=function(e){return m.apply(this,arguments)},v=function(){return(v=Object(c.a)(o.a.mark((function e(t,n,r){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.OpenOrders.makeCreateAccountTransaction(O.program.provider.connection,n,O.program.provider.wallet.publicKey,t.publicKey,B.a);case 2:a=e.sent,c=O.program.instruction.initAccount({accounts:{openOrders:t.publicKey,authority:O.program.provider.wallet.publicKey,market:n,dexProgram:B.a,rent:A.SYSVAR_RENT_PUBKEY}}),r.add(a),r.add(c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},f=function(e,t,n){return v.apply(this,arguments)},z&&F){e.next=6;break}throw new Error("Unable to calculate mint decimals");case 6:if(V&&X){e.next=8;break}throw new Error("Quote mint not found");case 8:if(t=new A.Transaction,n=[],U){e.next=18;break}return e.next=13,Object(P.b)(b,O.program.provider.wallet.publicKey);case 13:i=e.sent,s=i.tokenAddress,u=i.createTokenAddrIx,r=s,t.add(u);case 18:if(H||V.equals(b)){e.next=26;break}return e.next=21,Object(P.b)(V,O.program.provider.wallet.publicKey);case 21:l=e.sent,d=l.tokenAddress,p=l.createTokenAddrIx,a=d,t.add(p);case 26:if(!D||se){e.next=31;break}return h=A.Keypair.generate(),e.next=30,f(h,D.address,t);case 30:n.push(h);case 31:if(!L||ue){e.next=36;break}return x=A.Keypair.generate(),e.next=35,f(x,L.address,t);case 35:n.push(x);case 36:return e.prev=36,e.next=39,O.program.provider.send(t,n);case 39:if(!h){e.next=42;break}return e.next=42,j(h.publicKey);case 42:if(!x){e.next=45;break}return e.next=45,j(x.publicKey);case 45:w=[],r&&w.push(Z(r,b,O.program.provider.wallet.publicKey)),a&&!V.equals(b)&&w.push(Z(a,V,O.program.provider.wallet.publicKey)),Object(K.b)(w),q(),e.next=54;break;case 52:e.prev=52,e.t0=e.catch(36);case 54:case"end":return e.stop()}}),e,null,[[36,52]])})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(c.a)(o.a.mark((function e(){var t,n,a,c,i,s,u,l,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z&&F){e.next=2;break}throw new Error("Unable to calculate mint decimals");case 2:if(V&&X){e.next=4;break}throw new Error("Quote mint not found");case 4:if(t=new S.u64(f*Math.pow(10,z.decimals)),!(n=U?A.Keypair.generate():void 0)){e.next=10;break}e.t0=n.publicKey,e.next=13;break;case 10:return e.next=12,S.Token.getAssociatedTokenAddress(S.ASSOCIATED_TOKEN_PROGRAM_ID,S.TOKEN_PROGRAM_ID,d,O.program.provider.wallet.publicKey);case 12:e.t0=e.sent;case 13:return a=e.t0,e.next=16,Y(O.program.provider,d,t,n);case 16:return c=e.sent,i=c.tx,s=c.signers,U&&(i.add(S.Token.createTransferInstruction(S.TOKEN_PROGRAM_ID,a,U.publicKey,O.program.provider.wallet.publicKey,[],t)),u=Q(O.program.provider,a),l=u.tx,p=u.signers,i.add(l),s.push.apply(s,Object(r.a)(p))),e.next=22,O.program.provider.send(i,s);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(c.a)(o.a.mark((function e(){var t,n,a,c,i,s,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z&&F){e.next=2;break}throw new Error("Unable to calculate mint decimals");case 2:if(V&&X){e.next=4;break}throw new Error("Quote mint not found");case 4:return t=new S.u64(f*Math.pow(10,z.decimals)),n=A.Keypair.generate(),e.next=8,Y(O.program.provider,d,t,n);case 8:return a=e.sent,c=a.tx,i=a.signers,c.add(S.Token.createTransferInstruction(S.TOKEN_PROGRAM_ID,G.publicKey,n.publicKey,O.program.provider.wallet.publicKey,[],t)),s=Q(O.program.provider,n.publicKey),u=s.tx,l=s.signers,c.add(u),i.push.apply(i,Object(r.a)(l)),e.next=17,O.program.provider.send(c,i);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var t=Object(c.a)(o.a.mark((function t(){var n,r,a,c,i,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={address:U.publicKey.toString(),blockchain:"sol",coin:b.toString(),size:1},d.equals(B.d)?n.wusdtToUsdt=!0:n.wusdcToUsdc=!0,t.next=4,fetch("https://swap.sollet.io/api/swap_to",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return r=t.sent,t.next=7,r.json();case 7:return a=t.sent.result,c=a.address,a.maxSize,i=new A.Transaction,s=new S.u64(f*Math.pow(10,z.decimals)),i.add(S.Token.createTransferInstruction(S.TOKEN_PROGRAM_ID,G.publicKey,new A.PublicKey(c),O.program.provider.wallet.publicKey,[],s)),i.add(new A.TransactionInstruction({keys:[],data:e.from(U.publicKey.toString(),"utf-8"),programId:B.b})),t.next=16,O.program.provider.send(i);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),me=function(){var e=Object(c.a)(o.a.mark((function e(){var t,n,a,i,s,u,l,p,h,x,g,k,S;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z&&F){e.next=2;break}throw new Error("Unable to calculate mint decimals");case 2:if(ne){e.next=4;break}throw new Error("Invalid fair");case 4:if(V&&X){e.next=6;break}throw new Error("Quote mint not found");case 6:return t=new y.BN(f*Math.pow(10,z.decimals)),n=d.equals(B.e)||b.equals(B.e),a=n?A.Keypair.generate():void 0,e.next=11,Object(c.a)(o.a.mark((function e(){var n,r,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}throw new Error("Market undefined");case 2:return n={rate:new y.BN(Math.pow(10,F.decimals)*C.b/ne).muln(100-v).divn(100),fromDecimals:z.decimals,quoteDecimals:X.decimals,strict:m},r=d.equals(B.e)?a.publicKey:G?G.publicKey:void 0,c=b.equals(B.e)?a.publicKey:U?U.publicKey:void 0,i=w.get(null===D||void 0===D?void 0:D.address.toString()),s=void 0,i&&(s=i[0].address),e.next=10,O.swapTxs({fromMint:d,toMint:b,quoteMint:V,amount:t,minExchangeRate:n,referral:te,fromMarket:D,toMarket:L,fromOpenOrders:s,toOpenOrders:ue?ue[0].address:void 0,fromWallet:r,toWallet:c,quoteWallet:H?H.publicKey:void 0,close:j});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))();case 11:if(i=e.sent,!n){e.next=28;break}if(!(i.length>1)){e.next=15;break}throw new Error("SOL must be swapped in a single transaction");case 15:return e.next=17,Y(O.program.provider,d,t,a);case 17:l=e.sent,p=l.tx,h=l.signers,x=Q(O.program.provider,a.publicKey),g=x.tx,k=x.signers,(S=new A.Transaction).add(p),S.add(i[0].tx),S.add(g),i[0].tx=S,(s=i[0].signers).push.apply(s,Object(r.a)(h)),(u=i[0].signers).push.apply(u,Object(r.a)(k));case 28:return e.next=30,O.program.provider.sendAll(i);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return le?Object(I.jsx)(p.a,{variant:"contained",className:u.swapButton,onClick:s,disabled:!s,style:i,children:s?"Connect Wallet":"Disconnected"}):x&&E?!G||de?Object(I.jsx)(p.a,{variant:"contained",className:u.swapButton,style:i,disabled:!0,children:"Insufficient balance"}):pe?Object(I.jsx)(p.a,{variant:"contained",className:u.swapButton,onClick:be,disabled:!J,style:i,children:"Create Accounts"}):oe?Object(I.jsx)(p.a,{variant:"contained",className:u.swapButton,style:i,onClick:fe,disabled:!$,children:"Wrap SOL"}):ce?Object(I.jsx)(p.a,{variant:"contained",className:u.swapButton,onClick:ve,style:i,disabled:!$,children:"Unwrap SOL"}):ie?Object(I.jsx)(p.a,{variant:"contained",className:u.swapButton,onClick:je,disabled:f<=0,style:i,children:"Unwrap"}):re?Object(I.jsxs)(p.a,{variant:"contained",className:u.swapButton,onClick:me,disabled:!0,style:i,children:["Min ",re," Required"]}):Object(I.jsx)(p.a,{variant:"contained",className:u.swapButton,onClick:me,disabled:!ee,style:i,children:"Swap"}):Object(I.jsx)(p.a,{variant:"contained",className:u.swapButton,onClick:me,disabled:!0,style:i,children:"Loading..."})}function Y(e,t,n,r){return J.apply(this,arguments)}function J(){return(J=Object(c.a)(o.a.mark((function e(t,n,r,a){var c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=new A.Transaction,i=a?[a]:[],void 0!==a){e.next=9;break}return e.next=5,S.Token.getAssociatedTokenAddress(S.ASSOCIATED_TOKEN_PROGRAM_ID,S.TOKEN_PROGRAM_ID,n,t.wallet.publicKey);case 5:s=e.sent,c.add(S.Token.createAssociatedTokenAccountInstruction(S.ASSOCIATED_TOKEN_PROGRAM_ID,S.TOKEN_PROGRAM_ID,n,s,t.wallet.publicKey,t.wallet.publicKey)),e.next=21;break;case 9:return s=a.publicKey,e.t0=c,e.t1=A.SystemProgram,e.t2=t.wallet.publicKey,e.t3=s,e.next=16,S.Token.getMinBalanceRentForExemptAccount(t.connection);case 16:e.t4=e.sent,e.t5=S.TOKEN_PROGRAM_ID,e.t6={fromPubkey:e.t2,newAccountPubkey:e.t3,lamports:e.t4,space:165,programId:e.t5},e.t7=e.t1.createAccount.call(e.t1,e.t6),e.t0.add.call(e.t0,e.t7);case 21:return n.equals(B.e)&&c.add(A.SystemProgram.transfer({fromPubkey:t.wallet.publicKey,toPubkey:s,lamports:r.toNumber()})),c.add(S.Token.createInitAccountInstruction(S.TOKEN_PROGRAM_ID,B.n,s,t.wallet.publicKey)),e.abrupt("return",{tx:c,signers:i});case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){var n=new A.Transaction;return n.add(S.Token.createCloseAccountInstruction(S.TOKEN_PROGRAM_ID,t,e.wallet.publicKey,e.wallet.publicKey,[])),{tx:n,signers:[]}}function Z(e,t,n){return{publicKey:e,account:{address:e,mint:t,owner:n,amount:new S.u64(0),delegate:null,delegatedAmount:new S.u64(0),isInitialized:!0,isFrozen:!1,isNative:!1,rentExemptReserve:null,closeAuthority:null}}}}).call(this,n(13).Buffer)}},[[399,1,2]]]);